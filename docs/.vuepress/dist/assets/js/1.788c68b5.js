(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{199:function(e,t,a){"use strict";a.r(t);var r=a(0),i=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"sap-settings"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sap-settings","aria-hidden":"true"}},[e._v("#")]),e._v(" SAP settings")]),a("p",[e._v("On the SAP backend, some settings must be checked if you want Principal Propagation to work. The transactions are: RZ10, STRUST, CERTRULE, SICF and SMICM.")]),a("h2",{attrs:{id:"set-ping-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-ping-service","aria-hidden":"true"}},[e._v("#")]),e._v(" Set ping service")]),a("p",[e._v("The ping service is always provided in the app. Go to "),a("code",[e._v("SICF")]),e._v(" transaction and activate "),a("strong",[e._v("/sap/bc/ping")]),e._v(" service. "),a("br")]),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),a("p",[e._v("If you do not want to setup principal propagation, enter a service user for this service and skip the rest of this chapter.")])]),a("h2",{attrs:{id:"rz10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rz10","aria-hidden":"true"}},[e._v("#")]),e._v(" RZ10")]),a("p",[e._v("In order to have your oData Gateway service request a certificate rather than prompt for a username and a password, certain profile parameters need to be maintained. This configuration is done using the transaction "),a("code",[e._v("RZ10")]),e._v(". "),a("br")]),a("p",[e._v("icm/HTTPS/verify_client "),a("br")]),a("ul",[a("li",[e._v("Instructs the system to request a certificate from the client")]),a("li",[e._v("Value = 1")])]),a("p",[e._v("login/certificate_mapping_rulebased"),a("br")]),a("ul",[a("li",[e._v("Indicate how to interpret the certificates received")]),a("li",[e._v("Value = 1")])]),a("p",[e._v("icm/HTTPS/trust_client_with_issuer"),a("br")]),a("ul",[a("li",[e._v("This is the issuer of the system certificate")]),a("li",[e._v("Copy Subject of the issuer exactly as is")]),a("li",[e._v("For testing purpose enter "),a("code",[e._v("*")])])]),a("p",[e._v("icm/HTTPS/trust_client_with_issuer"),a("br")]),a("ul",[a("li",[e._v("This is the Subject of the system certificate itself")]),a("li",[e._v("For testing enter "),a("code",[e._v("*")])])]),a("h2",{attrs:{id:"strust"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#strust","aria-hidden":"true"}},[e._v("#")]),e._v(" STRUST")]),a("p",[e._v("In transaction "),a("code",[e._v("STRUST")]),e._v(", the "),a("strong",[e._v("issuer")]),e._v(" of the System Certificate needs to be added to the Certificate list of the SSL server Standard. Again, it is the issuer of the System Certificate of the SAP Cloud Connector that is required here!")]),a("h2",{attrs:{id:"certrule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#certrule","aria-hidden":"true"}},[e._v("#")]),e._v(" CERTRULE")]),a("p",[e._v("Go to your Cloud Connector : Connector > Configuration, tab ON PREMISE, subtab PRINCIPAL PROPAGATION and click on the button "),a("code",[e._v("create a sample certificate")]),e._v(". Enter your SAP login emailaddress as CN attribute and download the certificate. Upload the created sample certificate in CERTRULE. Connect the CN with a SAP User ID.")]),a("h2",{attrs:{id:"smicm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#smicm","aria-hidden":"true"}},[e._v("#")]),e._v(" SMICM")]),a("p",[e._v("Restart ICM after changes in RZ10\nUse ICM trace for troubleshooting.")]),a("h2",{attrs:{id:"create-sap-gateway-service"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create-sap-gateway-service","aria-hidden":"true"}},[e._v("#")]),e._v(" Create SAP Gateway Service")]),a("p",[e._v("Beyond this scope. Ask your SAP developer.")]),a("h2",{attrs:{id:"more-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#more-info","aria-hidden":"true"}},[e._v("#")]),e._v(" More info")]),a("ul",[a("li",[e._v("https://blogs.sap.com/2017/06/22/how-to-guide-principal-propagation-in-an-https-scenario/")]),a("li",[e._v("https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/a8bb87a72d094e0d981d2b1f67df7bc3.html")])])])}],!1,null,null,null);t.default=i.exports}}]);