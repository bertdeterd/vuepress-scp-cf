(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{192:function(t,a,s){"use strict";s.r(a);var n=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"approuter"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#approuter","aria-hidden":"true"}},[t._v("#")]),t._v(" Approuter")]),n("p",[t._v("The application router is the single entry point for the (business) application. It has the responsibility to serve static content, authenticate users, rewrite URLs, and proxy requests to other micro services while propagating user information.")]),n("h2",{attrs:{id:"create-the-approuter"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-the-approuter","aria-hidden":"true"}},[t._v("#")]),t._v(" Create the approuter")]),n("p",[t._v("The first step is to create our basic approuter. Below my-approuter is created but you can give it any name.")]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("$ vue create my-approuter --default\n")])])]),n("h2",{attrs:{id:"add-sap-cloud-foundry-plugin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-sap-cloud-foundry-plugin","aria-hidden":"true"}},[t._v("#")]),t._v(" Add SAP Cloud Foundry plugin")]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("$ vue add scp-cf-approuter\n")])])]),n("h2",{attrs:{id:"adjust-router-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#adjust-router-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Adjust router configuration")]),n("p",[t._v("The xs-app.json descriptor contains all configuration information used by the application router. A route defines how an incoming request path is updated and/or forwarded to a destination."),n("br"),n("br"),t._v("\nOne example is already given in xs-app.json"),n("br")]),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token property"}},[t._v('"routes"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n     "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{attrs:{class:"token property"}},[t._v('"source"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"^/myapp/(.*)$"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{attrs:{class:"token property"}},[t._v('"target"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"$1"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{attrs:{class:"token property"}},[t._v('"destination"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"myapp"')]),t._v("       \n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"adjust-destination-configuration"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#adjust-destination-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Adjust destination configuration")]),n("p",[t._v("Make a mapping between the destination name and the actual url for the app in manifest.yml. If you have not made an app yet, deploy and alter this file later.")]),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[t._v("    destinations"),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" >\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),n("span",{attrs:{class:"token property"}},[t._v('"name"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),n("span",{attrs:{class:"token string"}},[t._v('"myapp"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                                             \n          "),n("span",{attrs:{class:"token property"}},[t._v('"url"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),n("span",{attrs:{class:"token string"}},[t._v('"https://myapp-s0000000000trial.cfapps.eu10.hana.ondemand.com/"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    \n          "),n("span",{attrs:{class:"token property"}},[t._v('"forwardAuthToken"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("                                    \n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("p",[t._v("you can also change the destination config in SCP. Go to the user provided variables in the approuter app.")]),n("p",[n("img",{attrs:{src:s(208),alt:"create 0"}})]),n("h2",{attrs:{id:"deploy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#deploy","aria-hidden":"true"}},[t._v("#")]),t._v(" Deploy")]),n("p",[t._v("Run:")]),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("$ npm run build && cf push\n")])])])])}],e=s(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},n,!1,null,null,null);a.default=r.exports},208:function(t,a,s){t.exports=s.p+"assets/img/approuter-env.418bb15b.png"}}]);