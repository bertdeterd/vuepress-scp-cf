<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>VueSAP | SAP settings</title>
    <meta name="description" content="Fast app development for SCP | Cloud Foundry">
    <link rel="icon" href="/vuepress-scp-cf/favicon.ico">
    <meta name="keywords"><meta content="sap settings cf ping sicf">
    <link rel="preload" href="/vuepress-scp-cf/assets/css/13.styles.db76f926.css" as="style"><link rel="preload" href="/vuepress-scp-cf/assets/js/app.00f1be66.js" as="script"><link rel="preload" href="/vuepress-scp-cf/assets/js/1.9d07ab96.js" as="script"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/2.e77ef389.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/0.16aec26d.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/3.82c11ba1.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/4.17658357.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/5.8ce7a452.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/6.57e9591d.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/7.1d23bc05.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/8.f3b9e114.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/9.26454c1b.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/10.6b73197b.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/11.8e62f9ea.js"><link rel="prefetch" href="/vuepress-scp-cf/assets/js/12.711af3da.js">
    <link rel="stylesheet" href="/vuepress-scp-cf/assets/css/13.styles.db76f926.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/vuepress-scp-cf/" class="home-link router-link-active"><!----><span class="site-name">
      VueSAP
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-scp-cf/general/intro.html" class="nav-link">GUIDE</a></div><div class="nav-item"><a href="https://vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://account.hanatrial.ondemand.com/cockpit#/home/trialhome" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SCP
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-scp-cf/general/intro.html" class="nav-link">GUIDE</a></div><div class="nav-item"><a href="https://vuejs.org/v2/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VUE
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://account.hanatrial.ondemand.com/cockpit#/home/trialhome" target="_blank" rel="noopener noreferrer" class="nav-link external">
  SCP
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><!----></nav><ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading open"><span>Guide</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/vuepress-scp-cf/general/intro.html" class="sidebar-link">Introduction</a></li><li><a href="/vuepress-scp-cf/prerequisite/start.html" class="sidebar-link">Prerequisites</a></li><li><a href="/vuepress-scp-cf/cloudconnector/start.html" class="sidebar-link">Cloud Connector</a></li><li><a href="/vuepress-scp-cf/scpsettings/start.html" class="sidebar-link">SCP settings</a></li><li><a href="/vuepress-scp-cf/sapsettings/start.html" class="active sidebar-link">SAP settings</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#set-ping-service" class="sidebar-link">Set ping service</a></li><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#rz10" class="sidebar-link">RZ10</a></li><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#strust" class="sidebar-link">STRUST</a></li><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#certrule" class="sidebar-link">CERTRULE</a></li><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#smicm" class="sidebar-link">SMICM</a></li><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#create-sap-gateway-service" class="sidebar-link">Create SAP Gateway Service</a></li><li class="sidebar-sub-header"><a href="/vuepress-scp-cf/sapsettings/start.html#more-info" class="sidebar-link">More info</a></li></ul></li><li><a href="/vuepress-scp-cf/approuter/start.html" class="sidebar-link">Approuter</a></li><li><a href="/vuepress-scp-cf/app/start.html" class="sidebar-link">App</a></li><li><a href="/vuepress-scp-cf/microservices/start.html" class="sidebar-link">Microservices</a></li><li><a href="/vuepress-scp-cf/app/service-gateway.html" class="sidebar-link">Gateway Service</a></li><li><a href="/vuepress-scp-cf/app/service-rules.html" class="sidebar-link">Business Rules</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Packages</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="sap-settings"><a href="#sap-settings" aria-hidden="true" class="header-anchor">#</a> SAP settings</h1><p>On the on-premise SAP backend, some settings must be checked if you want Principal Propagation to work. The transactions are: RZ10, STRUST, CERTRULE, SICF and SMICM.</p><h2 id="set-ping-service"><a href="#set-ping-service" aria-hidden="true" class="header-anchor">#</a> Set ping service</h2><p>The ping service is always provided in the app. Go to <code>SICF</code> transaction and activate the <strong>/sap/bc/ping</strong> service. <br></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you do not want to setup principal propagation, enter a service user for this service and skip the rest of this chapter.</p></div><h2 id="rz10"><a href="#rz10" aria-hidden="true" class="header-anchor">#</a> RZ10</h2><p>In order to have your oData Gateway service request a certificate rather than prompt for a username and a password, certain profile parameters need to be maintained. This configuration is done using the transaction <code>RZ10</code>. <br></p><p>icm/HTTPS/verify_client <br></p><ul><li>Instructs the system to request a certificate from the client</li><li>Value = 1</li></ul><p>login/certificate_mapping_rulebased<br></p><ul><li>Indicate how to interpret the certificates received</li><li>Value = 1</li></ul><p>icm/HTTPS/trust_client_with_issuer<br></p><ul><li>This is the issuer of the system certificate</li><li>Copy Subject of the issuer exactly as is</li><li>For testing purpose enter <code>*</code></li></ul><p>icm/HTTPS/trust_client_with_issuer<br></p><ul><li>This is the Subject of the system certificate itself</li><li>For testing enter <code>*</code></li></ul><h2 id="strust"><a href="#strust" aria-hidden="true" class="header-anchor">#</a> STRUST</h2><p>In transaction <code>STRUST</code>, the <strong>issuer</strong> of the System Certificate needs to be added to the Certificate list of the SSL server Standard. Again, it is the issuer of the System Certificate of the SAP Cloud Connector that is required here!</p><h2 id="certrule"><a href="#certrule" aria-hidden="true" class="header-anchor">#</a> CERTRULE</h2><p>Go to your Cloud Connector : Connector &gt; Configuration, tab ON PREMISE, subtab PRINCIPAL PROPAGATION and click on the button <code>create a sample certificate</code>. Enter your SAP login emailaddress as CN attribute and download the certificate. Upload the created sample certificate in CERTRULE. Connect the CN with a SAP User ID.</p><h2 id="smicm"><a href="#smicm" aria-hidden="true" class="header-anchor">#</a> SMICM</h2><p>Restart ICM after changes in RZ10. <br>
Use ICM trace for troubleshooting.</p><h2 id="create-sap-gateway-service"><a href="#create-sap-gateway-service" aria-hidden="true" class="header-anchor">#</a> Create SAP Gateway Service</h2><p>Beyond this scope. Ask your SAP developer.</p><h2 id="more-info"><a href="#more-info" aria-hidden="true" class="header-anchor">#</a> More info</h2><ul><li><a href="https://blogs.sap.com/2017/06/22/how-to-guide-principal-propagation-in-an-https-scenario/" target="_blank" rel="noopener noreferrer">how-to-guide-principal-propagation-in-an-https-scenario<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/a8bb87a72d094e0d981d2b1f67df7bc3.html" target="_blank" rel="noopener noreferrer">SAP help<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="content edit-link"><!----><div class="last-updated"><span class="prefix">Last Updated: </span><span class="time">6/8/2018, 9:01:56 PM</span></div></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/vuepress-scp-cf/scpsettings/start.html" class="prev">
          SCP settings
        </a></span><span class="next"><a href="/vuepress-scp-cf/approuter/start.html">
          Approuter
        </a> →
      </span></p></div></div></div></div>
    <script src="/vuepress-scp-cf/assets/js/1.9d07ab96.js" defer></script><script src="/vuepress-scp-cf/assets/js/app.00f1be66.js" defer></script>
  </body>
</html>
